# 메뉴 이미지 문제 해결 가이드

## 🔍 문제: 메뉴 이미지가 표시되지 않음

백엔드 배포 과정에서 이미지 경로 처리에 문제가 발생할 수 있습니다.

---

## ✅ 해결 방법

### 1. 이미지 경로 처리 개선

프론트엔드에서 이미지 경로를 올바르게 처리하도록 수정했습니다:

- **절대 URL** (http://, https://): 그대로 사용
- **상대 경로** (/로 시작): 프론트엔드 도메인 기준으로 처리
- **파일명만**: `/파일명` 형식으로 변환하여 public 폴더에서 제공

### 2. 이미지 파일 위치

이미지 파일은 프론트엔드의 `ui/public` 폴더에 있어야 합니다:

```
ui/public/
  - americano-hot.jpg
  - caffe-latte.jpg
  - 카라멜마끼아또.jpg
  - ...
```

### 3. 데이터베이스 이미지 경로 형식

데이터베이스의 `menus` 테이블 `image` 컬럼에 저장할 수 있는 형식:

**옵션 1: 파일명만 (권장)**
```
americano-hot.jpg
caffe-latte.jpg
카라멜마끼아또.jpg
```

**옵션 2: 상대 경로**
```
/americano-hot.jpg
/caffe-latte.jpg
/카라멜마끼아또.jpg
```

**옵션 3: 절대 URL (외부 이미지)**
```
https://example.com/images/americano.jpg
```

---

## 🔧 문제 해결 체크리스트

### 프론트엔드
- [ ] 이미지 파일이 `ui/public` 폴더에 있는지 확인
- [ ] 이미지 파일명이 데이터베이스의 `image` 컬럼과 일치하는지 확인
- [ ] 브라우저 개발자 도구(F12) → Network 탭에서 이미지 요청 확인
- [ ] 이미지 로드 실패 시 SVG가 표시되는지 확인

### 백엔드
- [ ] API 응답에 `image` 필드가 포함되어 있는지 확인
- [ ] 데이터베이스에 이미지 경로가 올바르게 저장되어 있는지 확인

### 데이터베이스
- [ ] `menus` 테이블의 `image` 컬럼 확인
- [ ] 이미지 경로가 올바른 형식인지 확인

---

## 📝 이미지 추가 방법

### 1. 이미지 파일 추가

1. 이미지 파일을 `ui/public` 폴더에 복사
2. 파일명은 영문 또는 한글로 저장 가능

### 2. 데이터베이스에 이미지 경로 저장

**방법 1: SQL 직접 실행**
```sql
UPDATE menus SET image = 'americano-hot.jpg' WHERE name = '아메리카노';
UPDATE menus SET image = 'caffe-latte.jpg' WHERE name = '카페라떼';
```

**방법 2: 스크립트 사용**
```bash
cd server
node scripts/update-menu-images.js
```

---

## 🐛 문제 진단

### 이미지가 표시되지 않는 경우

1. **브라우저 개발자 도구 확인**
   - F12 → Console 탭: 이미지 로드 실패 메시지 확인
   - F12 → Network 탭: 이미지 요청 상태 확인 (404, 500 등)

2. **이미지 경로 확인**
   - API 응답에서 `image` 필드 값 확인
   - 브라우저에서 직접 이미지 URL 접속 테스트

3. **파일 존재 확인**
   - `ui/public` 폴더에 이미지 파일이 있는지 확인
   - 파일명이 정확한지 확인 (대소문자, 확장자)

---

## 💡 팁

1. **이미지 최적화**
   - 이미지 크기를 적절히 조정 (권장: 500x500px 이하)
   - 파일 크기를 최소화 (권장: 200KB 이하)

2. **파일명 규칙**
   - 영문, 숫자, 하이픈(-), 언더스코어(_) 사용 권장
   - 한글 파일명도 가능하지만 URL 인코딩 주의

3. **대체 이미지**
   - 이미지가 없거나 로드 실패 시 자동으로 SVG 아이콘 표시
   - 커피 종류에 따라 다른 색상의 SVG 표시

---

## 🔄 배포 후 확인

1. 프론트엔드 배포 완료 후
2. 웹사이트 접속하여 메뉴 이미지 확인
3. 이미지가 표시되지 않으면:
   - 브라우저 개발자 도구(F12) → Console 확인
   - Network 탭에서 이미지 요청 확인
   - 이미지 URL을 브라우저에서 직접 접속 테스트

